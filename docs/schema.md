# Схема базы данных

Схема и связи между таблицами показаны на диаграмме

![Database-scheme.png](images%2FDatabase-scheme.png)

Для всех таблиц задан первичный ключ id типа BIGSERIAL.

**Таблица employees**

Таблица employee описывает класс Employee и соответствует сущности Сотрудник из ТЗ.
Все аттрибуты имеют тип VARCHAR c размерностью 255.
Имеет связь один-ко-многим с таблицами tasks и team_members.

| Аттрибут   | Тип          | Описание                            |
|------------|--------------|-------------------------------------|
| id         | BIGSERIAL    | Автогенерируемый id, первичный ключ |
| firstname  | VARCHAR(255) | Имя, обязательное поле              |
| lastname   | VARCHAR(255) | Фамилия, обязательное поле          |
| patronymic | VARCHAR(255) | Отчество, необязательное поле       |
| position   | VARCHAR(255) | Должность, необязательное поле      |
| email      | VARCHAR(255) | Эл. почта, необязательное поле      |
| status     | VARCHAR(255) | Статус, обязательное поле           |

**Таблица projects**

Таблица projects описывает класс Project и соответствует сущности Проект из ТЗ.
Все аттрибуты имеют тип VARCHAR c размерностью 255.
Имеет связи один-ко-многим с таблицами tasks и teams.

| Аттрибут    | Тип          | Описание                                   |
|-------------|--------------|--------------------------------------------|
| id          | BIGSERIAL    | Автогенерируемый id, первичный ключ        |
| code        | VARCHAR(255) | Код проекта, обязательное поле, уникальное |
| name        | VARCHAR(255) | Наименование, обязательное поле            |
| description | VARCHAR(255) | Описание, необязательное поле              |
| status      | VARCHAR(255) | Статус, обязательное поле                  |

**Таблица teams**

Таблица teams описывает класс Team и соответствует сущности Команда из ТЗ.
Имеет связь многие-к-одному с таблицей projects и внешний ключ project_id на аттрибут projects.id.
Имеет связь один-ко-многим с таблицей team_members.

| Аттрибут   | Тип       | Описание                                    |
|------------|-----------|---------------------------------------------|
| id         | BIGSERIAL | Автогенерируемый id, первичный ключ         |
| project_id | BIGINT    | Id проекта, обязательное поле, внешний ключ |

**Таблица team_members**

Таблица team_members описывает класс TeamMember.
Имеет связь многие-к-одному с таблицей teams и внешний ключ team_id на аттрибут projects.id.
Имеет связь многие-к-одному с таблицей employees и внешний employee_id ключ на аттрибут employee.id.

| Аттрибут     | Тип       | Описание                                       |
|--------------|-----------|------------------------------------------------|
| id           | BIGSERIAL | Автогенерируемый id, первичный ключ            |
| team_id      | BIGINT    | Id команды, обязательное поле, внешний ключ    |
| employee_id  | BIGINT    | Id сотрудника, обязательное поле, внешний ключ |
| project_role | BIGINT    | Роль в команде, обязательное поле              |

**Таблица tasks**

Таблица tasks описывает класс Task и соответствует сущности Задача из ТЗ.
Имеет связь многие-к-одному с таблицей employees и внешние ключи implementer_id и author_id на аттрибут employee.id.
Имеет связь многие-к-одному с таблицей projects и внешний ключ project_id на аттрибут project.id.

| Аттрибут       | Тип          | Описание                                                                |
|----------------|--------------|-------------------------------------------------------------------------|
| id             | BIGSERIAL    | Автогенерируемый id, первичный ключ                                     |
| name           | VARCHAR(255) | Наименование, обязательное поле                                         |
| description    | TEXT         | Описание, необязательное поле                                           |
| implementer_id | BIGINT       | Id сотрудника исполнителя задачи,<br> необязательное поле, внешний ключ |
| labor_costs    | BIGINT       | Трудозатраты, время на выполнение задачи,<br> обязательное поле         |
| deadline       | DATE         | Дата, крайний срок исполнения задачи, <br> обязательное поле            |
| status         | VARCHAR(255) | Статус задачи, обязательное поле                                        |
| author_id      | BIGINT       | Id сотрудника автора задачи, <br> обязательное поле, внешний ключ       |
| date_created   | DATE         | Дата создания задачи, <br> обязательное поле                            |
| date_updated   | DATE         | Дата последнего редактирвоания (кроме изменеения статуса)               |
